<!DOCTYPE html>
<html style="height: 100%">
<head>
    <meta charset="utf-8">
    <title>推荐系统</title>
    <script type="text/javascript" src="http://echarts.baidu.com/examples/vendors/jquery/jquery.js"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts.min.js"></script>
</head>
<body style="height: 100%">
	车辆性质
	<select id="vtype" name="vtype">
		<option title="请选择" value="" data-index="0">请选择</option>
		<option title="家庭自用车" value="309001-359002" data-index="1">家庭自用车</option>
		<option title="机关、事业单位用车" value="309002-359002" data-index="2">机关、事业单位用车</option>
		<option title="企业非营业车" value="309004-359002" data-index="3">企业非营业车</option>
		<option title="营业特种车" value="309005-359001" data-index="4">营业特种车</option>
		<option title="非营业特种车" value="309005-359002" data-index="5">非营业特种车</option>
		<option title="摩托车" value="309008-359002" data-index="6">摩托车</option>
		<option title="拖拉机" value="309009-359002" data-index="7">拖拉机</option>
		<option title="城市公交营业客车" value="309012-359001" data-index="8">城市公交营业客车</option>
		<option title="非营业货车" value="309014-359002" data-index="9">非营业货车</option>
		<option title="营业货车" value="309015-359001" data-index="10">营业货车</option>
		<option title="出租、租赁" value="309016-359001" data-index="11">出租、租赁</option>
		<option title="公路营运" value="309017-359001" data-index="12">公路营运</option>
		<option title="非营业挂车" value="309035-359002" data-index="13">非营业挂车</option>
		<option title="营业挂车" value="309036-359001" data-index="14">营业挂车</option>
		<option title="营业特种车挂车" value="309041-359001" data-index="15">营业特种车挂车</option>
		<option title="非营业特种车挂车" value="309041-359002" data-index="16">非营业特种车挂车</option>
	</select>
	车主性质
	<select id="vtype2" name="vtype" >
		<option title="个人" value="1" data-index="0" selected="selected">个人</option>
		<option title="企业" value="3" data-index="1">企业</option>
		<option title="机关" value="2" data-index="2">机关</option>
	</select>
	年龄<input id="age" type="text"/>
	车龄<input id="year" type="text"/>
	地址<input id="address" type="text"/>
	<input type="button" onclick="r()" value="推荐"/>
	<div id="container" style="height: 100% ; margin: 0;width:50%"></div>
	<script type="text/javascript">
		var dom = document.getElementById("container");
		var myChart = echarts.init(dom);
		var app = {};
		option = null;
		option = {
	    title: {text: '基础雷达图'},
	    tooltip: {},
	    legend: {
	        data: ['实际开销（Actual Spending）']
	    },
	    radar: {
	        // shape: 'circle',
	        name: {
	            textStyle: {
	                color: '#fff',
	                backgroundColor: '#999',
	                borderRadius: 3,
	                padding: [3, 5]
	           }
	        },
	        indicator: [
	           { name: '意外', max: 5},
	           { name: '家财', max: 5},
	           { name: '车服', max: 5},
	           { name: '重疾', max: 5},
	           { name: '责任', max: 5},
	        ]
	    },
	    series: [{
	        name: '预算 vs 开销（Budget vs spending）',
	        type: 'radar',
	        areaStyle : {
				normal : {
					opacity : 0.5,
					color : new echarts.graphic.RadialGradient(0.5,0.5, 1, [{color : '#EFF',offset : 0}, {color : 'blue',offset : 1}])
				}
			},
	        data : [
	            {
	                value : [2, 1, 4, 3, 5],
	                name : '预算分配（Allocated Budget）',
	            }
	        ]
	    }]
		};
	
		if (option && typeof option === "object") {
		    myChart.setOption(option, true);
		};
		
		function r(){
			var pd = {
				"vtype":$("#vtype").val(),
				"vtype2":$("#vtype2").val(),
				"age":$("#age").val(),
				"year":$("#year").val(),
				"address":$("#address").val(),
			};
			$.post("/r/give",pd , function(data) {
				var arr = []
				for (var i in data) {
				    arr.push(data[i]);
				}
				option.series[0].data[0].value = arr;
				myChart.setOption(option, true);
			});
		}
	</script>
	
</body>
</html>